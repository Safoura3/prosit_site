<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>lebonplan - Postuler</title>
  <link rel="stylesheet" href="prosit.css"/>
</head>
<body>

<header>
  <h1>lebonplan</h1>
  <nav class="blob">
    <div>
      <a href="../index.php" >Acceuil</a>
      <a href="../controlleur/entreprises.php" >Entreprises</a>
      <a href="../controlleur/offres.php" >Offres</a>
      <a href="wishlist.html">Wishlist</a>
      <a href="contact.html">Contact</a>
    </div>
    <div class="auth-links">
      <a href="connexion.html">Connexion</a> |
      <a href="inscription.html">Inscription</a>
    </div>
  </nav>
</header>

<nav class="glock">
  <a href="#">Accueil</a> > <a href="#">Offres</a> > <a href="#">Stages</a> > <a href="#">Postuler</a>
</nav>

<div class="container">
  <div class="offre">
    <section class="form-container">
      <h1>Postuler √† une offre de stage</h1>
      <p>Vous pouvez t√©l√©phoner directement √† l'entreprise...</p>
      <h3></h3>
      <p></p>
      <h4>R√©sum√© de l'offre</h4>
      <div id="resume" class="resume-box"></div>
      
        <!-- On va remplir √ßa en JS -->
      </div>
      
    </section>
  </div>

  <!-- Formulaire complet -->
  <form id="formulaire">

    <h4>Envoyez votre candidature d√®s maintenant !</h4>

    <label for="genre">CIVILIT√â</label>
    <select id="genre" required>
      <option value="">S√©lectionnez</option>
      <option value="Masculin">Masculin</option>
      <option value="F√©minin">F√©minin</option>
    </select>

    <label for="nom">NOM</label>
    <input type="text" id="nom" required>

    <label for="prenom">PR√âNOM</label>
    <input type="text" id="prenom" required>

    <label for="email">COURRIEL</label>
    <input type="email" id="email" required>

    <div class="vous"> 
        <label>A PROPOS DE VOUS</label><br>
        <input  name="Permis B" id="permis" type="checkbox">
        <label class="d" for="permis">Permis B</label><br>
      
        <input type="checkbox" name="V√©hicul√©" id="V√©hicul√©">
        <label class="s" for="V√©hicul√©">V√©hicul√©</label><br>
      
        <input type="checkbox" name="Certification" id="Certification">
        <label class="p" for="Certification">Certification (Microsoft, Cisco...)</label>
      </div>
      
      <div class="majeur">
        <label>JE SUIS MAJEUR</label><br>
        <input type="radio" name="choix" value="oui" id="oui">
        <label for="oui">Oui</label>
      
        <input type="radio" name="choix" value="non" id="non">
        <label for="non">Non</label>
      </div>
      
    <label for="message">VOTRE MESSAGE AU RECRUTEUR</label>
    <textarea id="message" name="message"></textarea>

    <h3>Upload un fichier PDF</h3>
    <label for="file">S√©lectionnez un fichier PDF (max 2 Mo) :</label>
    <input type="file" name="file" id="file" accept="application/pdf" required>

    <div class="buttons">
      <button type="button" onclick="televerserCV()">T√©l√©verser</button>
      <button type="submit">ENVOYER</button>
      <button type="reset">R√âINITIALISER</button>
    </div>
  </form>

  <footer>
    <p>En cliquant sur "Postuler", vous acceptez les <a href="#">GCU</a> et la <a href="#">politique de confidentialit√©</a>.</p>
    <p><a href="mention.html">Mentions legales</a></p>
  </footer>
</div>

<script src="script.js"></script>

<script src="document.js"></script>

<script>
    function getParam(name) {
      const url = new URL(window.location.href);
      return url.searchParams.get(name) || '';
    }
  
    const titre = getParam('titre');
    const entreprise = getParam('entreprise');
    const lieu = getParam('lieu');
    const types = getParam('types'); // ‚úÖ AVEC S
    const duree = getParam('duree');
    const description = getParam('description');
  
    // Affichage dynamique dans la page
    document.querySelector('.form-container h3').textContent = titre || "Titre de l'offre";
    document.querySelector('.form-container p:nth-of-type(2)').innerHTML =
      `<strong>${entreprise}</strong> | ${lieu} | Type : ${types} | Dur√©e : ${duree}`;
  
    // G√©n√©ration du r√©sum√©
    const resume = `
      üíº <strong>${titre}</strong> chez <strong>${entreprise}</strong> √† <strong>${lieu}</strong>.<br>
      Type : <strong>${types}</strong>, pour une dur√©e de <strong>${duree}</strong>.<br><br>
      üëâ ${description}
    `;
    document.getElementById('resume').innerHTML = resume;
  </script>
  
  
</body>
</html>
